---
sidebar_label: Unit Testing
---
# Unit Testing with JUnit

JUnit is the most popular unit testing framework for Java. This guide covers JUnit basics and practical examples.

## Setup

```xml
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter</artifactId>
    <version>5.9.2</version>
    <scope>test</scope>
</dependency>
```

## Basic Test Structure


<details>
<summary>Koda bax</summary>

```java
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

public class CalculatorTest {
    
    @Test
    void addition() {
        Calculator calculator = new Calculator();
        assertEquals(5, calculator.add(2, 3), "2 + 3 should equal 5");
    }
}
```
</details>

## Common JUnit Annotations

- `@Test`: Marks a method as a test method
- `@BeforeEach`: Executed before each test method
- `@AfterEach`: Executed after each test method
- `@BeforeAll`: Executed once before all test methods (must be static)
- `@AfterAll`: Executed once after all test methods (must be static)
- `@Disabled`: Disables a test method or class
- `@DisplayName`: Provides a custom name for the test

## Example with Setup and Teardown


<details>
<summary>Koda bax</summary>

```java
import org.junit.jupiter.api.*;
import static org.junit.jupiter.api.Assertions.*;

public class UserServiceTest {
    
    private UserService userService;
    private static Database database;
    
    @BeforeAll
    static void initDatabase() {
        database = new Database();
        database.connect();
    }
    
    @AfterAll
    static void closeDatabase() {
        database.disconnect();
    }
    
    @BeforeEach
    void initUserService() {
        userService = new UserService(database);
    }
    
    @Test
    @DisplayName("User creation should succeed with valid data")
    void createUserSuccess() {
        User user = new User("john", "password123");
        assertTrue(userService.createUser(user));
        assertNotNull(userService.findUser("john"));
    }
}
```
</details>

## Assertions

<details>
<summary>Koda bax</summary>

```java
@Test
void testAssertions() {
    // Basic assertions
    assertEquals(5, 2 + 3);
    assertNotEquals(4, 2 + 3);
    assertTrue(5 > 3);
    assertFalse(5 < 3);
    assertNull(null);
    assertNotNull("text");

    // Exception testing
    assertThrows(ArithmeticException.class, () -> {
        int result = 1 / 0;
    });

    // Grouped assertions
    assertAll(
        () -> assertEquals(4, 2 + 2),
        () -> assertTrue(4 > 3)
    );
}
```
</details>

## Parameterized Tests

Parameterized tests allow running the same test with different inputs:


<details>
<summary>Koda bax</summary>

```java
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.CsvSource;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class CalculatorParameterizedTest {
    
    @ParameterizedTest
    @CsvSource({
        "1, 1, 2",
        "5, 3, 8",
        "10, -5, 5"
    })
    void additionWithMultipleInputs(int a, int b, int expected) {
        Calculator calculator = new Calculator();
        assertEquals(expected, calculator.add(a, b));
    }
}
```
</details>

## Testing Exceptions


<details>
<summary>Koda bax</summary>

```java
@Test
void exceptionTesting() {
    Exception exception = assertThrows(
        ArithmeticException.class, 
        () -> divide(1, 0)
    );
    
    assertEquals("Division by zero", exception.getMessage());
}

int divide(int a, int b) {
    if (b == 0) {
        throw new ArithmeticException("Division by zero");
    }
    return a / b;
}
```
</details>

## Best Practices for JUnit Tests

1. **Test naming**: Use descriptive names that explain what the test does
2. **One assertion per test**: Focus each test on a single behavior
3. **Arrange-Act-Assert pattern**: Structure tests with setup, execution, and verification
4. **Test independence**: Tests should not depend on each other
5. **Fast execution**: Keep tests lightweight and quick to run
6. **Use mocks for external dependencies**: Isolate the unit being tested
7. **Test edge cases**: Include boundary conditions and error scenarios
