---
slug: /sistem-dizayn/back-of-envelope
title: Back-of-Envelope
tags: [sistem-dizayn, estimation, system-design, calculations, performance]
keywords: [back of envelope, estimation, qps, storage, bandwidth, latency, system design calculations]
sidebar_position: 9
---

# Back-of-the-Envelope Hesablamalar
Back-of-the-envelope hesablamalar sistem dizaynÄ±nda É™sas parametrlÉ™ri tez qiymÉ™tlÉ™ndirmÉ™k Ã¼Ã§Ã¼n istifadÉ™ olunan tÉ™xmini hesablama Ã¼suludur. Bu Ã¼sul sistem tÉ™lÉ™blÉ™rini baÅŸa dÃ¼ÅŸmÉ™k vÉ™ doÄŸru arxitektura seÃ§mÉ™k Ã¼Ã§Ã¼n vacibdir.

### NÉ™ Ã¼Ã§Ã¼n lazÄ±mdÄ±r?
- **Tez qiymÉ™tlÉ™ndirmÉ™:** Sistem tÉ™lÉ™blÉ™rini sÃ¼rÉ™tlÉ™ tÉ™yin etmÉ™k
- **Resurs planlamasÄ±:** LazÄ±mi resurslarÄ± tÉ™xmin etmÉ™k
- **Bottleneck aÅŸkarlama:** Potensial problemlÉ™ri erkÉ™n tapmaq  
- **Dizayn seÃ§imi:** FÉ™rqli dizayn variantlarÄ±nÄ± mÃ¼qayisÉ™ etmÉ™k
- **Feasibility yoxlama:** Sistemin hÉ™yata keÃ§irilÉ™ bilinmÉ™sini yoxlamaq

### Æsas ParametrlÉ™r
- **QPS (Queries Per Second):** SaniyÉ™dÉ™ sorÄŸu sayÄ±
- **Storage:** MÉ™lumat saxlama tÉ™lÉ™blÉ™ri  
- **Bandwidth:** ÅÉ™bÉ™kÉ™ keÃ§iricilik tÉ™lÉ™blÉ™ri
- **Latency:** Cavab vermÉ™sinÉ™ tÉ™lÉ™b olunan vaxt
- **Resources:** Server, CPU, RAM tÉ™lÉ™blÉ™ri

### Hesablama NÃ¶vlÉ™ri
- **Load Estimation:** Trafik vÉ™ istifadÉ™Ã§i yÃ¼kÃ¼ tÉ™xmini
- **Storage Estimation:** VerilÉ™nlÉ™r bazasÄ± vÉ™ fayllarÄ±n hÉ™cmi
- **Bandwidth Estimation:** ÅÉ™bÉ™kÉ™ trafik hÉ™cmi  
- **Latency Estimation:** Cavab sÃ¼rÉ™ti tÉ™xmini
- **Resource Estimation:** Server vÉ™ avadanlÄ±q sayÄ±

### Æsas RÉ™qÉ™mlÉ™r (Jeff Dean)
- **L1 cache:** 0.5 ns
- **L2 cache:** 7 ns  
- **RAM:** 100 ns
- **SSD random read:** 150 Âµs
- **Disk seek:** 10 ms
- **Network (same datacenter):** 500 Âµs
- **Network (intercontinental):** 150 ms

### MÉ™lumat VahidlÉ™ri
- **KB:** 10Â³ = 1,000 bytes
- **MB:** 10â¶ = 1,000,000 bytes  
- **GB:** 10â¹ = 1,000,000,000 bytes
- **TB:** 10Â¹Â² = 1,000,000,000,000 bytes
- **PB:** 10Â¹âµ bytes

### Availability RÉ™qÉ™mlÉ™ri
- **99%:** 3.65 gÃ¼n downtime/il
- **99.9%:** 8.8 saat downtime/il
- **99.99%:** 52.6 dÉ™qiqÉ™ downtime/il
- **99.999%:** 5.3 dÉ™qiqÉ™ downtime/il

### Hesablama NÃ¼munÉ™si: Twitter Kimi Platform
**FÉ™rziyyÉ™lÉ™r:**
- 300 milyon aylÄ±q aktiv istifadÉ™Ã§i
- 50% istifadÉ™Ã§i gÃ¼ndÉ™lik aktiv
- HÉ™r istifadÉ™Ã§i gÃ¼ndÉ™ 2 tweet yazÄ±r
- 10% tweet media mÉ™zmun daÅŸÄ±yÄ±r
- Data 5 il saxlanÄ±lÄ±r

**Hesablamalar:**
```
QPS Hesablama:
DAU = 300M Ã— 50% = 150M
Tweet QPS = 150M Ã— 2 Ã· 86,400 saniyÉ™ â‰ˆ 3,500
Peak QPS = 2 Ã— 3,500 â‰ˆ 7,000

Storage Hesablama:
Tweet mÉ™zmunu = 64 byte (ID) + 140 byte (text) â‰ˆ 200 byte
Media = 1 MB (10% tweet)
GÃ¼ndÉ™lik media = 150M Ã— 2 Ã— 10% Ã— 1MB = 30 TB
5 illik storage = 30 TB Ã— 365 Ã— 5 â‰ˆ 55 PB
```

### Hesablama ÃœsullarÄ±
- **YuvarlaqlaÅŸdÄ±rma:** 99,987 Ã· 9.1 â†’ 100,000 Ã· 10 = 10,000
- **FÉ™rziyyÉ™lÉ™ri yazmaq:** BÃ¼tÃ¼n tÉ™xmini rÉ™qÉ™mlÉ™ri qeyd et
- **VahidlÉ™ri gÃ¶stÉ™rmÉ™k:** "5" É™vÉ™zinÉ™ "5 MB" yazmaq
- **TÉ™crÃ¼bÉ™:** QPS, storage, cache hesablamalarÄ±nÄ± mÉ™ÅŸq etmÉ™k

### Hesablama StrategiyalarÄ±
- **Order of Magnitude:** 10-un dÉ™rÉ™cÉ™lÉ™ri ilÉ™ tÉ™xmin
- **Analogy:** TanÄ±ÅŸ sistemlÉ™rlÉ™ mÃ¼qayisÉ™
- **Dimensional Analysis:** Ã–lÃ§Ã¼ vahidlÉ™ri ilÉ™ É™laqÉ™lÉ™r
- **Rule of Thumb:** SahÉ™ Ã¼zrÉ™ tanÄ±nan qaydalar
- **Benchmarking:** SÉ™naye standartlarÄ± ilÉ™ mÃ¼qayisÉ™

### Æsas ProblemlÉ™r
- **DÉ™qiqlik Ã§atÄ±ÅŸmazlÄ±ÄŸÄ±:** TÉ™xmini hesablamalar hÉ™miÅŸÉ™ dÉ™qiq olmur â†’ MÃ¼mkÃ¼n qÉ™dÉ™r real mÉ™lumat istifadÉ™ et
- **FÉ™rziyyÉ™lÉ™rÉ™ asÄ±lÄ±lÄ±k:** YanlÄ±ÅŸ fÉ™rziyyÉ™lÉ™r sÉ™hv nÉ™ticÉ™lÉ™r verir â†’ FÉ™rziyyÉ™lÉ™ri tÉ™sdiqlÉ™mÉ™k lazÄ±mdÄ±r
- **MÉ™hdud É™hatÉ™:** BÃ¼tÃ¼n mÃ¼rÉ™kkÉ™bliyi É™hatÉ™ etmir â†’ DetallÄ± analiz Ã¼Ã§Ã¼n baÅŸqa Ã¼sullarla tamamla
- **TÉ™crÃ¼bÉ™ asÄ±lÄ±lÄ±ÄŸÄ±:** NÉ™ticÉ™lÉ™r mÃ¼hÉ™ndisin tÉ™crÃ¼bÉ™sindÉ™n asÄ±lÄ±dÄ±r â†’ Komanda ilÉ™ mÃ¼zakirÉ™ et
- **Nazik faktortlarÄ±n atlanmasÄ±:** Vacib detallar gÃ¶zlÉ™m atÄ±na bilir â†’ Checklist istifadÉ™ et

```mermaid
graph TB
    Problem[ğŸ¯ Problem] --> Assumptions[ğŸ“ FÉ™rziyyÉ™lÉ™r]
    Assumptions --> Calculations[ğŸ”¢ Hesablamalar]
    
    subgraph "Hesablama NÃ¶vlÉ™ri"
        QPS[ğŸ“Š QPS Estimation<br/>SaniyÉ™dÉ™ sorÄŸu]
        Storage[ğŸ’¾ Storage Estimation<br/>MÉ™lumat hÉ™cmi]
        Bandwidth[ğŸŒ Bandwidth Estimation<br/>ÅÉ™bÉ™kÉ™ keÃ§iriciliyi]
        Latency[â±ï¸ Latency Estimation<br/>Cavab sÃ¼rÉ™ti]
        Resources[ğŸ–¥ï¸ Resource Estimation<br/>Server sayÄ±]
    end
    
    Calculations --> QPS
    Calculations --> Storage  
    Calculations --> Bandwidth
    Calculations --> Latency
    Calculations --> Resources
    
    subgraph "Æsas RÉ™qÉ™mlÉ™r"
        Memory[ğŸ’¾ RAM: 100ns]
        Disk[ğŸ’¿ Disk seek: 10ms]
        Network[ğŸŒ Network: 500Âµs]
        Cache[âš¡ L1 cache: 0.5ns]
    end
    
    subgraph "Praktik NÃ¼munÉ™"
        Twitter[ğŸ¦ Twitter Platform]
        Users[ğŸ‘¥ 300M MAU]
        DAU[ğŸ“± 150M DAU]
        Tweets[ğŸ“ 3,500 QPS]
        Storage2[ğŸ’¾ 55 PB/5 years]
    end
    
    Twitter --> Users
    Users --> DAU
    DAU --> Tweets
    Tweets --> Storage2
    
    style Problem fill:#e1f5fe
    style Calculations fill:#f3e5f5
    style Twitter fill:#e8f5e8
    style Memory fill:#fff3e0
    style Disk fill:#fff3e0
    style Network fill:#fff3e0
    style Cache fill:#fff3e0
```

