---
title: Spring Əsas Annotasiyalar
sidebar_label: Əsas Annotasiyalar
description: Spring Framework və Spring Boot-da ən çox istifadə olunan annotasiyalar və istifadə nümunələri
slug: spring/main-annotations
tags: [spring, annotations, configuration, bean, stereotype]
keywords: [spring annotations, component service repository, configuration bean, conditional profile]
hide_table_of_contents: false
---

# Spring Əsas Annotasiyalar

Spring ekosistemində annotasiyalar konfigurasiya, komponent kəşfi, dependency injection, cross-cutting concern-lərin (security, transaction) tətbiqi üçün əsas vasitədir. Aşağıda ən çox istifadə olunan annotasiyaların kateqoriya üzrə xülasəsi verilir.

## Stereotype Annotasiyaları
| Annotasiya | Məqsəd | Qeyd |
|------------|--------|------|
| `@Component` | Generic Spring bean | Baza stereotype |
| `@Service` | Business logic səviyyəsi | Semantik dəyər (AOP fərqləndirmə) |
| `@Repository` | Data Access səviyyəsi | Exception translation (PersistenceException -> DataAccessException) |
| `@Controller` | MVC controller (View qaytarır) | Thymeleaf, JSP və s. |
| `@RestController` | REST endpoint (JSON/XML) | = `@Controller + @ResponseBody` |

### Nümunə
<details>
<summary>Koda bax</summary>

```java
@Service
public class PaymentService {
    private final PaymentGateway gateway;
    public PaymentService(PaymentGateway gateway){ this.gateway = gateway; }
    public Receipt pay(Order order){ return gateway.process(order); }
}
```
</details>

## Konfiqurasiya Annotasiyaları
| Annotasiya | Məqsəd |
|------------|--------|
| `@Configuration` | Java-based konfiqurasiya class |
| `@Bean` | Method nəticəsini konteynerə bean kimi qeyd et |
| `@Import` | Başqa config class(ları) əlavə et |
| `@PropertySource` | Xarici .properties faylı daxil et |
| `@ConfigurationProperties` | Prefiks əsaslı strukturlaşdırılmış konfiqurasiya binding |

### @Configuration + @Bean
<details>
<summary>Koda bax</summary>

```java
@Configuration
public class CacheConfig {
    @Bean
    public CacheManager cacheManager(){
        return new CaffeineCacheManager("users", "orders");
    }
}
```
</details>

### @ConfigurationProperties
Yüklənən konfiqurasiyanı POJO-a map edir (tövsiyə olunur `@Value` əvəzi kompleks hallarda).
<details>
<summary>Koda bax</summary>

```java
@ConfigurationProperties(prefix = "storage")
public record StorageProps(String basePath, long maxSizeMb) {}

@Configuration
@EnableConfigurationProperties(StorageProps.class)
class StorageConfig {
    private final StorageProps props;
    StorageConfig(StorageProps props){ this.props = props; }
}
```
</details>

## Dependency Injection Yardımçı Annotasiyalar
| Annotasiya | Məqsəd |
|------------|--------|
| `@Autowired` | Constructor/field/setter injection |
| `@Qualifier` | Eyni tipdən çox bean olduğunda seçim |
| `@Primary` | Default seçim bean |
| `@Lazy` | Bean yaradılmasını gecikdir |
| `@Scope` | Bean scope təyini (singleton, prototype...) |
| `@Value` | Sadə property binding |

### @Qualifier və @Primary birlikdə
<details>
<summary>Koda bax</summary>

```java
interface Notifier { void send(String msg); }

@Component("emailNotifier")
class EmailNotifier implements Notifier { public void send(String msg) { /* ... */ } }

@Component
@Primary
class SmsNotifier implements Notifier { public void send(String msg) { /* ... */ } }

@Service
class AlertService {
    private final Notifier email;
    private final Notifier defaultNotifier; // SmsNotifier seçilir
    AlertService(@Qualifier("emailNotifier") Notifier email, Notifier defaultNotifier){
        this.email = email; this.defaultNotifier = defaultNotifier;
    }
}
```
</details>

## Şərtli Yükləmə (Conditional Loading)
| Annotasiya | Məqsəd |
|------------|--------|
| `@Profile("dev")` | Yalnız dev profil aktivdirsə yüklə |
| `@ConditionalOnMissingBean` | Bean yoxdursa yarat |
| `@ConditionalOnProperty` | Property dəyərinə görə |
| `@Conditional` | Custom logic ilə |

### Profile nümunə
<details>
<summary>Koda bax</summary>

```java
@Service
@Profile("mock")
class MockMailSender implements MailSender { /* ... */ }

@Service
@Profile("prod")
class SmtpMailSender implements MailSender { /* ... */ }
```
</details>

## Spring Boot Enable Annotasiyaları
| Annotasiya | Aktiv Etdiyi |
|------------|--------------|
| `@SpringBootApplication` | = `@Configuration + @EnableAutoConfiguration + @ComponentScan` |
| `@EnableScheduling` | @Scheduled task-lar |
| `@EnableAsync` | @Async metodlar üçün AsyncExecutor |
| `@EnableCaching` | @Cacheable, @CacheEvict |
| `@EnableTransactionManagement` | @Transactional işlənməsi |
| `@EnableConfigurationProperties` | @ConfigurationProperties binding |

## Web & REST Annotasiyaları
| Annotasiya | Məqsəd |
|------------|--------|
| `@RequestMapping` | Base path və ya ümumi mapping |
| `@GetMapping` | HTTP GET |
| `@PostMapping` | HTTP POST |
| `@PutMapping` | HTTP PUT |
| `@DeleteMapping` | HTTP DELETE |
| `@PatchMapping` | HTTP PATCH |
| `@RequestParam` | Query param/value |
| `@PathVariable` | URL path hissəsi |
| `@RequestBody` | JSON -> obyekt |
| `@ResponseStatus` | Custom HTTP status |
| `@ExceptionHandler` | Lokal exception emalı |
| `@ControllerAdvice` | Global exception emalı |
| `@CrossOrigin` | CORS icazəsi |

### Sadə REST Controller
<details>
<summary>Koda bax</summary>

```java
@RestController
@RequestMapping("/api/users")
public class UserController {
    private final UserService service;
    public UserController(UserService service){ this.service = service; }

    @GetMapping("/{id}")
    public UserDto get(@PathVariable Long id){ return service.find(id); }

    @PostMapping
    @ResponseStatus(HttpStatus.CREATED)
    public UserDto create(@Valid @RequestBody CreateUserRequest req){ return service.create(req); }
}
```
</details>

## Validation Annotasiyaları (Jakarta Validation)
| Annotasiya | Məqsəd |
|------------|--------|
| `@NotNull` | Null olmasın |
| `@NotBlank` | Boş string olmasın |
| `@Size(min, max)` | Ölçü limit |
| `@Email` | E-poçt format |
| `@Positive` | >0 |
| `@Past` / `@Future` | Tarix validasiyası |
| `@Pattern` | Regex |

<details>
<summary>Koda bax</summary>

```java
public record CreateUserRequest(
    @NotBlank String username,
    @Email String email,
    @Size(min = 8) String password
) {}
```
</details>

## Security Annotasiyaları (Qısa)
| Annotasiya | Məqsəd |
|------------|--------|
| `@EnableWebSecurity` | Security filter chain aktiv |
| `@PreAuthorize` | Metoda giriş şərti (SpEL) |
| `@Secured` | Sadə ROLE yoxlama |
| `@RolesAllowed` | JSR-250 style |
| `@WithMockUser` | Test-lərdə security konteksti |

## Transaction Annotasiyası
| Annotasiya | Məqsəd |
|------------|--------|
| `@Transactional` | Metod/Class səviyyəsində transaction sərhədi |
| Atributlar | propagation, isolation, readOnly, timeout, rollbackFor |

<details>
<summary>Koda bax</summary>

```java
@Service
public class OrderFacade {
    @Transactional
    public void placeOrder(PlaceOrderRequest req){ /* bütün addımlar atomic */ }

    @Transactional(readOnly = true)
    public OrderDto get(Long id){ /* select */ return null; }
}
```
</details>

## Caching Annotasiyaları
| Annotasiya | Məqsəd |
|------------|--------|
| `@Cacheable` | Nəticəni cache-lə |
| `@CacheEvict` | Cache-dən sil |
| `@CachePut` | Cache-i yenilə (method icra olunaraq) |
| `@Caching` | Kompleks kombinasiyalar |

<details>
<summary>Koda bax</summary>

```java
@Service
class ProductService {
    @Cacheable(value = "product", key = "#id")
    public Product find(Long id){ /* DB */ return null; }

    @CacheEvict(value = "product", key = "#id")
    public void delete(Long id){ /* remove */ }
}
```
</details>

## AOP Annotasiyaları
| Annotasiya | Məqsəd |
|------------|--------|
| `@Aspect` | Aspect class |
| `@Pointcut` | Join point ifadəsi |
| `@Around` | Ətrafında məntiq |
| `@Before` / `@After` | Metod öncə/sonra |
| `@AfterReturning` | Uğurlu nəticə |
| `@AfterThrowing` | Exception halı |

## Lifecycle Annotasiyaları
| Annotasiya | Məqsəd |
|------------|--------|
| `@PostConstruct` | Bean init sonrası |
| `@PreDestroy` | Konteyner bağlananda |

## Tez Yoxlama Siyahısı
- Annotasiya biznes niyyəti ifadə edir?
- Config kodu modulardır?
- Validation controller qatına çatmamış işə düşür?
- Transaction sərhədləri service səviyyəsindədir?
- Security qaydaları mərkəzləşdirilib?

## Növbəti Addım
Web API dizaynı üçün: `spring/rest` sənədinə, security üçün: `spring/security` sənədinə keç.

